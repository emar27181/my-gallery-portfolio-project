---
import { images } from '../data/image';
const breakpointCols = { default: 4, 1024: 3, 768: 2, 640: 2 };
---

<div class="gallery-container">
  <!-- 🔍 検索UI（機能は未実装） -->
  <input
    type="text"
    placeholder="Search..."
    class="search-input"
  />

  <!-- 🏷️ タグUI（機能は未実装） -->
  <div class="tag-container">
    <button class="tag-button">#illust</button>
    <button class="tag-button">#manga</button>
    <button class="tag-button">#game</button>
    <button class="tag-button">#photo</button>
    <button class="tag-button">#study</button>
    <button class="tag-button">#logo</button>
    <button class="tag-button">#ai</button>
    <button class="tag-button">#research</button>
  </div>

  <!-- 🖼 ギャラリー -->
  <div id="gallery">
    <div class="masonry-container">
      {
        images.map(({ src, alt, title }) => (
          <div class="masonry-item">
            <img
              src={src}
              alt={alt}
              title={title}
              loading="lazy"
              data-src={src}
              data-alt={alt}
              data-title={title}
            />
          </div>
        ))
      }
    </div>
  </div>
</div>


<script>
  document.addEventListener('DOMContentLoaded', () => {
    const galleryImages = document.querySelectorAll('#gallery img');
    
    galleryImages.forEach((img) => {
      img.addEventListener('click', () => {
        const src = img.getAttribute('data-src') || img.getAttribute('src');
        const alt = img.getAttribute('data-alt') || img.getAttribute('alt');
        
        if (src && (window as any).openImageModal) {
          (window as any).openImageModal(src, alt);
        }
      });
    });
  });
</script>